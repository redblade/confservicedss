{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{120:function(c,t,e){e.r(t),e.d(t,\"MetricsModule\",(function(){return y}));var i=e(0),s=e(3),n=e(37),r=e(58),a=e(15),o=e(11);class g{constructor(c){this.http=c}getMetrics(){return this.http.get(a.b+\"management/jhimetrics\")}threadDump(){return this.http.get(a.b+\"management/threaddump\")}}g.ɵfac=function(c){return new(c||g)(i.oc(o.b))},g.ɵprov=i.Xb({token:g,factory:g.ɵfac,providedIn:\"root\"});var d=e(20),u=e(2),p=e(9);function m(c,t){if(1&c&&(i.gc(0,\"div\",10),i.Sc(1,\"\\n        \"),i.gc(2,\"jhi-jvm-memory\",11),i.Sc(3,\"\\n        \"),i.fc(),i.Sc(4,\"\\n\\n        \"),i.gc(5,\"jhi-jvm-threads\",12),i.Sc(6,\"\\n        \"),i.fc(),i.Sc(7,\"\\n\\n        \"),i.gc(8,\"jhi-metrics-system\",13),i.Sc(9,\"\\n        \"),i.fc(),i.Sc(10,\"\\n    \"),i.fc()),2&c){const c=i.tc();i.Ob(2),i.Ac(\"updating\",c.updatingMetrics)(\"jvmMemoryMetrics\",c.metrics.jvm),i.Ob(3),i.Ac(\"threadData\",c.threads),i.Ob(3),i.Ac(\"updating\",c.updatingMetrics)(\"systemMetrics\",c.metrics.processMetrics)}}function h(c,t){if(1&c&&(i.gc(0,\"div\"),i.Sc(1,\"\\n        \"),i.gc(2,\"h3\"),i.Sc(3,\"Garbage collector statistics\"),i.fc(),i.Sc(4,\"\\n\\n        \"),i.gc(5,\"jhi-metrics-garbagecollector\",14),i.Sc(6,\"\\n        \"),i.fc(),i.Sc(7,\"\\n    \"),i.fc()),2&c){const c=i.tc();i.Ob(5),i.Ac(\"updating\",c.updatingMetrics)(\"garbageCollectorMetrics\",c.metrics.garbageCollector)}}function f(c,t){1&c&&(i.gc(0,\"div\",15),i.Sc(1,\"Updating...\"),i.fc())}function M(c,t){if(1&c&&(i.gc(0,\"jhi-metrics-request\",16),i.Sc(1,\"\\n    \"),i.fc()),2&c){const c=i.tc();i.Ac(\"updating\",c.updatingMetrics)(\"requestMetrics\",c.metrics[\"http.server.requests\"])}}function l(c,t){if(1&c&&(i.gc(0,\"jhi-metrics-endpoints-requests\",17),i.Sc(1,\"\\n    \"),i.fc()),2&c){const c=i.tc();i.Ac(\"updating\",c.updatingMetrics)(\"endpointsRequestsMetrics\",c.metrics.services)}}function S(c,t){if(1&c&&(i.gc(0,\"jhi-metrics-cache\",18),i.Sc(1,\"\\n    \"),i.fc()),2&c){const c=i.tc();i.Ac(\"updating\",c.updatingMetrics)(\"cacheMetrics\",c.metrics.cache)}}function b(c,t){if(1&c&&(i.gc(0,\"jhi-metrics-datasource\",19),i.Sc(1,\"\\n    \"),i.fc()),2&c){const c=i.tc();i.Ac(\"updating\",c.updatingMetrics)(\"datasourceMetrics\",c.metrics.databases)}}class v{constructor(c,t){this.metricsService=c,this.changeDetector=t,this.updatingMetrics=!0}ngOnInit(){this.refresh()}refresh(){this.updatingMetrics=!0,this.metricsService.getMetrics().pipe(Object(r.a)(()=>this.metricsService.threadDump(),(c,t)=>{this.metrics=c,this.threads=t.threads,this.updatingMetrics=!1,this.changeDetector.detectChanges()})).subscribe()}metricsKeyExists(c){return this.metrics&&this.metrics[c]}metricsKeyExistsAndObjectNotEmpty(c){return this.metrics&&this.metrics[c]&&\"{}\"!==JSON.stringify(this.metrics[c])}}v.ɵfac=function(c){return new(c||v)(i.bc(g),i.bc(i.j))},v.ɵcmp=i.Vb({type:v,selectors:[[\"jhi-metrics\"]],decls:34,vars:7,consts:[[\"id\",\"metrics-page-heading\"],[1,\"btn\",\"btn-primary\",\"float-right\",3,\"click\"],[\"icon\",\"sync\"],[\"class\",\"row\",4,\"ngIf\"],[4,\"ngIf\"],[\"class\",\"well well-lg\",4,\"ngIf\"],[3,\"updating\",\"requestMetrics\",4,\"ngIf\"],[3,\"updating\",\"endpointsRequestsMetrics\",4,\"ngIf\"],[3,\"updating\",\"cacheMetrics\",4,\"ngIf\"],[3,\"updating\",\"datasourceMetrics\",4,\"ngIf\"],[1,\"row\"],[1,\"col-md-4\",3,\"updating\",\"jvmMemoryMetrics\"],[1,\"col-md-4\",3,\"threadData\"],[1,\"col-md-4\",3,\"updating\",\"systemMetrics\"],[3,\"updating\",\"garbageCollectorMetrics\"],[1,\"well\",\"well-lg\"],[3,\"updating\",\"requestMetrics\"],[3,\"updating\",\"endpointsRequestsMetrics\"],[3,\"updating\",\"cacheMetrics\"],[3,\"updating\",\"datasourceMetrics\"]],template:function(c,t){1&c&&(i.gc(0,\"div\"),i.Sc(1,\"\\n    \"),i.gc(2,\"h2\"),i.Sc(3,\"\\n        \"),i.gc(4,\"span\",0),i.Sc(5,\"Application Metrics\"),i.fc(),i.Sc(6,\"\\n\\n        \"),i.gc(7,\"button\",1),i.rc(\"click\",(function(){return t.refresh()})),i.Sc(8,\"\\n            \"),i.cc(9,\"fa-icon\",2),i.Sc(10,\" \"),i.gc(11,\"span\"),i.Sc(12,\"Refresh\"),i.fc(),i.Sc(13,\"\\n        \"),i.fc(),i.Sc(14,\"\\n    \"),i.fc(),i.Sc(15,\"\\n\\n    \"),i.gc(16,\"h3\"),i.Sc(17,\"JVM Metrics\"),i.fc(),i.Sc(18,\"\\n\\n    \"),i.Qc(19,m,11,5,\"div\",3),i.Sc(20,\"\\n\\n    \"),i.Qc(21,h,8,2,\"div\",4),i.Sc(22,\"\\n\\n    \"),i.Qc(23,f,2,0,\"div\",5),i.Sc(24,\"\\n\\n    \"),i.Qc(25,M,2,2,\"jhi-metrics-request\",6),i.Sc(26,\"\\n\\n    \"),i.Qc(27,l,2,2,\"jhi-metrics-endpoints-requests\",7),i.Sc(28,\"\\n\\n    \"),i.Qc(29,S,2,2,\"jhi-metrics-cache\",8),i.Sc(30,\"\\n\\n    \"),i.Qc(31,b,2,2,\"jhi-metrics-datasource\",9),i.Sc(32,\"\\n\"),i.fc(),i.Sc(33,\"\\n\")),2&c&&(i.Ob(19),i.Ac(\"ngIf\",t.metrics&&!t.updatingMetrics),i.Ob(2),i.Ac(\"ngIf\",t.metrics&&t.metricsKeyExists(\"garbageCollector\")),i.Ob(2),i.Ac(\"ngIf\",t.updatingMetrics),i.Ob(2),i.Ac(\"ngIf\",t.metrics&&t.metricsKeyExists(\"http.server.requests\")),i.Ob(2),i.Ac(\"ngIf\",t.metrics&&t.metricsKeyExists(\"services\")),i.Ob(2),i.Ac(\"ngIf\",t.metrics&&t.metricsKeyExists(\"cache\")),i.Ob(2),i.Ac(\"ngIf\",t.metrics&&t.metricsKeyExistsAndObjectNotEmpty(\"databases\")))},directives:[d.a,u.o,p.m,p.n,p.s,p.t,p.o,p.p,p.q,p.r],encapsulation:2,changeDetection:0});const j={path:\"\",component:v,data:{pageTitle:\"Application Metrics\"}};class y{}y.ɵmod=i.Zb({type:y}),y.ɵinj=i.Yb({factory:function(c){return new(c||y)},imports:[[n.a,s.h.forChild([j])]]}),(\"undefined\"==typeof ngJitMode||ngJitMode)&&i.Mc(y,{declarations:[v],imports:[n.a,s.h]})}}]);","extractedComments":[]}